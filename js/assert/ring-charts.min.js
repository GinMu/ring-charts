!function(e,a){e.logs={host:"http://192.168.66.254:8000/",getUrl:function(e){return this.host+e}},e.logCharts=function(a,t,r){var n=e("#"+a+"-data-labels").is(":checked"),s={text:t},i={endOnTick:!0,type:"datetime",startOnTick:!0,dateTimeLabelFormats:{day:"%y/%m/%d"}},o={endOnTick:!0,gridLineColor:"#c0c0c0",gridLineDashStyle:"longdash"},c={series:{dataLabels:{enabled:n,allowOverlap:!0,rotation:350,y:-15,x:10,formatter:function(){return e.convertToPercent(a,this.y)}},enableMouseTracking:!n}},l={enabled:!1},p={crosshairs:!0,shared:!0,xDateFormat:"%Y-%m-%d %a",pointFormatter:function(){var t=this.y,r=this.series.name,n=this.series.color;return'<span style="color:'+n+';">●</span>'+r+":<b>"+e.convertToPercent(a,t)+"</b><br/>"}},d={y:20},u={};u.title=s,u.xAxis=i,u.yAxis=o,u.credits=l,u.tooltip=p,u.plotOptions=c,u.legend=d,e.ajax({url:e.logs.getUrl("chart"),data:{filename:r},type:"get",dataType:"text",success:function(a){var t={csv:a};u.data=t,e("#container").highcharts(u)}})},e.logsMaps=function(a){var t={spacingBottom:30},r={formatter:function(){return this.point.name+"设备数量:"+this.point.value}},n={enabled:!1},s={text:"铃声大全各省用户分布图"},i={layout:"vertical",align:"right",verticalAlign:"middle"},o={min:0,minColor:"#E6E7E8",maxColor:"#005645",labels:{style:{color:"red",fontWeight:"bold"}}},c={map:{states:{hover:{color:"#EEDD66"}},dataLabels:{enabled:!0,allowOverlap:!0}}},l={};l.chart=t,l.tooltip=r,l.credits=n,l.title=s,l.legend=i,l.colorAxis=o,l.plotOptions=c;var p=Highcharts.geojson(Highcharts.maps["countries/cn/custom/cn-all-china"]);e.ajax({url:e.logs.getUrl("region"),data:{time:a},type:"get",dataType:"text",success:function(a){var t=JSON.parse(a);e.each(p,function(e){this.value=t[e]});var r=[{data:p,name:"中国",dataLabels:{enabled:!0,format:"{point.properties.cn-name}"}}];l.series=r,e("#container").highcharts("Map",l)},error:function(e,a){alert("无相关文件")}})},e.searchUUID=function(a,t){e.ajax({url:e.logs.getUrl("search"),data:{time:a,uuid:t},type:"get",dataType:"text",success:function(a){e.getOperationList(a)}})},e.getOperationList=function(a){if(a=JSON.parse(a),!a||0===a.length)return void alert("无相关记录");var t=[];for(var r in a){var n=e.getOperationType(a[r]);t.push(n)}e("#ol_list").append(t.join(""))},e.getOperationType=function(e){var a="<li>",t=e.type;switch(t){case 0:a+="播放:"+e.name;break;case 1:a+="暂停:"+e.name;break;case 2:a+="点击设彩铃:"+e.name;break;case 3:a+="接收短信:"+e.name+"  tel:"+e.tel;break;case 4:a+="设置彩铃:"+e.name+"  tel:"+e.tel;break;case 5:a+="搜索:"+e.key;break;case 6:a+="页面:"+e.path;break;case 7:a+="程序升级:"+e.version;break;case 8:a+="点击appstore评论:";break;case 9:break;case 10:break;case 11:a+="获取随机码:"+e.name+"  tel:"+e.tel;break;case 12:a+="反馈信息:"+unescape(e.word)+"  tel:"+unescape(e.tel);break;case 13:a+="退订:"+e.tel;break;case 14:a+="记录地理位置:"+e.region;break;case 15:a+="记录手机空间";break;case 16:a+="下载铃声:"+e.name}return a+="</li>"},e.seriesUpdate=function(a,t){var r=e("#container").highcharts(),n=r.series;for(var s in n)n[s].update({dataLabels:{enabled:a},enableMouseTracking:t})},e.updateType=function(a){var t=e("#container").highcharts(),r=t.series;for(var n in r)r[n].update({type:a})},e.convertToPercent=function(e,a){return"percent-title"===e?a.toFixed(1)+"%":a}}(jQuery,window);